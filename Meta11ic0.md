---
timezone: UTC+8
---

> 请在上边的 timezone 添加你的当地时区(UTC)，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区


# 你的名字

1. 自我介绍 Johnny
2. 你认为你会完成本次残酷学习吗？ 会努力的
3. 你的联系方式（推荐 Telegram）@J0hmy

## Notes

<!-- Content_START -->

### 2025.03.31

# 超级链（Superchain）是什么？

超级链（Superchain）是 **Optimism 提出的区块链扩展架构**，其核心目标是将多个 Layer 2（L2）网络聚合在一起，形成一个 **统一、互操作** 的生态系统。它的设计理念类似于「区块链的互联网」，让多个链共享 **安全性、数据可用性**，并在 **去中心化治理** 下协同发展。所以了解超级链是什么之前需要弄清楚Layer2的本质。

# Layer2是什么？

以太坊 L1 原本有两个主要问题：

1. **交易太慢**（每秒最多 15 笔，远远不够）
2. **交易费太贵**（一次操作动辄几十美元）

**L2 解决方案：**

✅ **提高交易吞吐量**：批量处理交易，TPS（每秒交易数）大幅提升。

✅ **降低交易成本**：批量提交数据，摊薄 Gas 费用，让每笔交易更便宜。

# **Layer 2 仍然存在的问题**

尽管 L2 解决了 L1 的扩展性问题，但它们之间的割裂仍然是个挑战：

1. **各个 L2 之间互不相通**
    - 例如 **Optimism** 和 **Arbitrum** 是两个不同的 L2，用户在这两个链之间转移资产，还是需要 **跨链桥**（体验复杂，还可能有安全风险）。
2. **流动性碎片化**
    - 由于 L2 彼此独立，每个 L2 上的资产 **流动性被分散**，导致某些链的交易深度不足。
3. **安全模式不同**
    - 目前的 L2 采用 **不同的数据可用性和欺诈证明方案**，这可能导致不同 L2 之间的安全性不一致。（主要采用Optimistic Rollup（乐观 Rollup）和 ZK Rollup（零知识 Rollup），Optimistic Rollup就是Optimism采取的方法，Optimism即为Superchain（超级链）概念的提出者，也是最早的**是最早的 Optimistic Rollup L2**，以扩展以太坊为目标，提供低 Gas、高吞吐量的交易环境）

# **超级链（Superchain）如何解决 L2 的问题？**

**超级链 = 把多个 L2 连接成一个整体，像区块链版的「互联网」**。它解决了 L2 的三个核心问题：
1. **L2 互不相通 : 统一 OP Stack**，让不同 L2 直接兼容，无需跨链桥
2. **流动性分散 :** 共享流动性池，减少资产碎片化
3. **安全性不统一 :** 共享安全基础设施，提高整体安全性

### 2025.04.02

# 今天又看回笔记发现自己更缺对基础概念的了解，L1是什么呢？

严格来说，**L1 是一个广义的概念**，但在以太坊生态里，**L1 = 以太坊**。

- 以太坊是一个 **去中心化的区块链**，它有自己的 **共识机制（PoS）、智能合约平台（EVM）、数据存储（区块链）**。
- **所有 L2 都建立在 L1 之上，并最终依赖 L1 保障安全性。**

# L1（以太坊）依赖 **PoW（以前）或 PoS（现在）** 来决定谁出块，那么L2呢？

L2 **不使用 PoW 也不使用 PoS**，因为：

- **L2 不是独立的公链**，最终的安全性是由 **L1（以太坊）** 保障的。
- **L2 的任务主要是执行交易，并将结果提交给 L1**。

L2 的出块机制，通常由 **一个或少数几个“排序器（Sequencer）”** 负责：

- **排序器（Sequencer）**：就是 L2 上的交易处理者，类似于 L1 的矿工/验证者。
- **排序器负责打包交易、排序，并定期把区块提交到 L1**。

不同的 L2，有不同的出块机制：

- **Optimistic Rollup（如 Optimism、Base）**：一个中心化的 Sequencer 负责打包交易，最终还是提交给 L1 验证。
- **ZK Rollup（如 zkSync、Starknet）**：Sequencer 处理交易，并生成 ZK 证明，再提交给 L1 验证。

所以，L2 的交易流程如下：

1. **用户在 L2 发起交易**（比如转账或调用智能合约）。
2. **Sequencer 负责处理交易、排序，并打包成 L2 区块**。
3. **L2 的区块不会直接存到 L1，而是定期提交到 L1 进行验证**。

这样，L2 可以提供比 L1 更快的交易处理速度，因为它不需要每一笔交易都经过 L1 的共识验证。

# **L2 为什么不需要 PoW 或 PoS？**

**L2 的交易最终要在 L1（以太坊）上验证，所以 L2 不需要 PoW 或 PoS。**

ETH

- **PoW（工作量证明）**：以前，所有矿工计算哈希值竞争出块，保证区块链安全。
- **PoS（权益证明）**：现在，验证者质押 ETH，被随机选中出块，其他验证者投票确认区块。
- **L1 的区块链**：所有数据都在以太坊上，每个节点都会同步全网数据，保证安全。

**L2（Rollup）**

- **L2 不需要 PoW 或 PoS，因为 L2 的最终安全性来自 L1**。
- **L2 交易是“先执行，后验证”**，L2 只是执行交易，最终会把结果提交到 L1 进行验证。
- **L2 主要依赖 Sequencer 处理交易**，它不是一个分布式网络，而是一个中心化的角色（大多数情况）。

所以，**L2 不需要竞争出块，只有 Sequencer 负责打包交易，保证交易排序和执行**。

### 2025.04.03

# **L2 的 Sequencer 是怎么选的？谁来发块？**

**L2 的 Sequencer 目前通常是中心化的**，比如：

- **Optimism、Arbitrum、Base 的 Sequencer 由官方团队运行**。
- **Starknet、zkSync 也由官方团队运行 Sequencer**。

Sequencer 的任务是：

1. **收集 L2 用户的交易，按照顺序排序**。
2. **执行交易，计算 L2 的最新状态**。
3. **定期打包交易，提交到 L1 进行验证**。

目前，大多数 L2 **只有一个 Sequencer，属于中心化组件**。但未来一些 L2 计划去中心化，比如：

- **Arbitrum 计划让多个 Sequencer 竞争出块**。
- **Starknet 计划用 PoS 机制来选出 Sequencer**。

# **ETH 的运行机制**

ETH 运行的代码主要是 **Geth（Go Ethereum）**，是用 Go 语言编写的。

1. **在 PoW 时代**：所有矿工用自己的计算机运行 ETH 代码，计算哈希值，竞争出块。
2. **在 PoS 时代**：所有验证者运行 ETH 代码，质押 32 ETH，等待被选中出块。

ETH 的运行依赖：

- **客户端软件（Geth、Nethermind、Erigon 等）**：每个验证者/矿工都要运行这个软件来同步区块链。
- **共识算法（PoS 现在使用 Casper FFG）**：确保所有节点对最新区块达成共识。
- **EVM（以太坊虚拟机）**：运行智能合约，并保证执行结果相同。

# L2是否可以理解成“币”呢？

**不太准确**，但在某些场景下可以这么理解。

- L2 **本质上是一个独立的区块链**，它并不仅仅是一个“币”，而是一个处理交易的 Layer 2 解决方案。
- **L2 可能会有自己的币（例如 OP、ARB）**，但 L2 本身 ≠ 币，而是一个网络。
- **你可以把 L2 看作一个基于 L1（ETH）运行的平行世界**，它有自己的交易规则和验证方式，最终结果会定期提交到 L1。

✅ **正确的说法**：

- 以太坊（ETH）是 L1，Arbitrum、Optimism 这些是 **L2 网络**，它们可能会有自己的币（ARB、OP），但 L2 ≠ 币。

# **L2 的核心运行逻辑**

1. **L2 官方运行 Sequencer（中心化服务器）**，持续运行 L2 代码。
2. **用户使用钱包向 L2 发送交易**，这些交易进入 Sequencer 维护的交易池。
3. **Sequencer 负责排序 + 执行交易**，形成 L2 的新区块。
4. **L2 继续运行，每隔一段时间打包交易数据，提交到 L1**（ETH）。
5. **L1 负责存储 L2 的最终状态**，并允许挑战者检查 L2 是否作恶。

# L2 的核心组件

1. 共识层（Consensus Layer）：负责出块和交易排序（Sequencer）
2. 交易执行层（Execution Layer）：执行交易，更新 L2 的状态。
3. 数据可用性层（Data Availability Layer）：存储 L2 交易数据，确保数据可查询
4. 结算层（Settlement Layer）：负责把 L2 的最终状态提交到 L1，并提供挑战机制（Fraud Proof 或 ZK Proof）。
5. 桥接层（Bridge Layer）：允许用户从 L1 存款到 L2，或者从 L2 提款回 L1。

### 2025.04.04
# **OP Stack是什么？**

**OP Stack 是一个用于构建 L2 的模块化框架**，**不是一个单独的 L2，，**OP Stack **= 一整套 Optimistic Rollup 的代码库，**可以让你快速搭建自己的 L2 区块链，而不需要从头开发所有 L2 组件。

---

# **OP Stack 解决了哪些问题？**

**问题 1️⃣：L2 开发难度大，自己做 L2 成本太高**

🔹 **OP Stack 提供了一套开箱即用的 L2 组件，你可以直接复用，不需要从零开始写 L2 代码。**

- **Sequencer 代码**（处理交易排序）
- **State Commit 代码**（提交 L2 状态到 L1）
- **Bridge 代码**（管理 L1 和 L2 资产转移）
- **安全机制**（挑战和回滚机制）

✅ **有了 OP Stack，开发者只需要调整参数，不需要自己实现底层逻辑！**

---

**问题 2️⃣：L2 网络的去中心化问题（目前大部分 L2 还是中心化的）**

🔹 **现在的 L2（Optimism、Arbitrum）主要依赖一个中心化 Sequencer 来处理交易，用户必须信任它不会作恶。**

- 目前 OP Stack **仍然是中心化 Sequencer**，但未来计划支持多个 Sequencer 竞争，提高去中心化程度。

✅ **OP Stack 未来会支持去中心化 Sequencer，降低信任风险。**

---

**问题 3️⃣：L2 之间的互通性（不同 L2 资产互相不兼容）**

🔹 **不同 L2 之间的资产通常需要桥接，可能存在安全问题。**

- OP Stack 计划让**所有基于 OP Stack 运行的 L2 共享同一套结算合约**，这样 L2 之间的资产可以自由流动，不需要桥接。

✅ **基于 OP Stack 的 L2 未来可以互相兼容，减少跨链桥的风险！**
### 2025.04.05
# 再次回归本次残酷共学第一次学习，什么是“超级链”（Superchain）？为什么 OP Stack 可以扩展？

“超级链”其实是 OP Stack 的**一个宏愿或愿景**，它指的是：

> 所有用 OP Stack 搭建的 L2 区块链，都能彼此互联互通，就像它们是一个大家庭一样。
> 

---

技术原因有以下几点：

# 1️⃣ 所有链共享 **同一套标准**

比如：

- 都用同一版本的执行引擎（EVM 兼容）
- 都用相同的桥接协议（比如 Optimism 官方的标准桥）
- 都用 OP Stack 里的状态同步规则

这样就像用“相同语法的编程语言”，它们天然可以“说得通”，不会互相听不懂。

---

# 2️⃣ OP Stack 本身是“模块化架构”

也就是说：

- 你可以替换其中某一层（比如 Execution Layer、DA Layer），不影响其他部分
- 不同的 L2 虽然配置不同，但底层协议“兼容”，就像不同品牌的安卓手机，但都能装同一个 APK

这就形成了“模块可插拔 + 接口一致”的风格，自然能互联互通。

---

# 3️⃣ “超级链协议”+互相通信（Shared Bridge + Message Passing）

OP Stack 的超级链设计中：

- 所有链都可以接入一个“共享的桥”，比如 OP 官方的桥
- 它们可以通过标准化协议进行 **L2 ➝ L2 的通信**，比如：L2A 发消息给 L2B，不需要绕到 L1（未来规划）

这部分是 OP Stack 未来规划中的重点，类似跨链消息传递系统（类似 LayerZero 但更本地化）。

---

# 4️⃣ 公共治理机制（未来）

超级链也希望共享治理机制，比如：

- 用一个共同的代币（OP）参与治理
- 所有子链共享 Sequencer 去中心化网络（未来）

这会形成一个更强的协作系统。

### 2025.04.06
# 章程更新：

在 Optimism 治理的第六季中，引入了名为“区块空间章程”（Blockspace Charters）的新治理框架，旨在为超级链（Superchain）内的各个区块链提供技术指导和规范。 

**主要内容包括：**

1. **动机：**
    - 随着基于 OP Stack 的链不断增加，版本和配置的差异可能导致生态系统碎片化。区块空间章程旨在为用户、开发者和治理者提供清晰的指导，帮助理解不同链的特性和保证。
2. **区块空间章程的组成部分：**
    - **标准：** 定义哪些链属于特定章程的范围，包括所使用的 OP Stack 版本和配置参数。
    - **治理政策：** 规定链的治理结构和升级流程。
    - **预承诺：** 链在技术、治理和社区方面的承诺，以确保一致性和可靠性。
3. **超级链注册表：**
    - 作为区块空间章程框架的重要组成部分，记录哪些链被纳入特定章程，并详细列出每条链的具体配置值，确保生态系统的透明度和责任制。

# **关于如何成为超级链的一部分：**

要成为超级链的一部分，链需要符合相关区块空间章程中定义的标准和预承诺。这通常包括：

- **使用特定版本的 OP Stack：** 链必须运行特定版本的 OP Stack，确保与超级链的兼容性。
- **符合配置要求：** 链的参数设置（如 Chain ID、排序器配置等）需在章程规定的范围内。
- **遵守治理政策：** 链需要遵循章程中规定的治理结构和升级流程，确保与超级链的整体治理框架一致。

通过满足这些条件，链可以被纳入超级链生态系统，享受与其他链的互操作性和协同效应

### 2025.04.08
# 现在如果我要开始本地开始从零部署一个我自己的L2并且将其添加到 Optimism 的 Superchain Registry我需要做什么呢？下面是GPT给出的步骤，后面有空我会实际操作尝试

# 一、你需要准备的东西（本地环境）

1. **安装开发环境**：
    - 安装 Node.js（推荐 v18+）
    - 安装 Docker（用于运行依赖服务）
    - 安装 Go（OP Stack 部分组件用 Go 写的）
    - 安装 Foundry 或 Hardhat（写智能合约）
    - 安装 Python（有些部署脚本用 Python）
    - 安装 `op-deployer`：这是官方推荐的部署工具
2. **准备一个 L1 测试网节点（或 RPC）**：
    - 推荐用 Goerli 或 Sepolia 测试网
    - 可以使用 Infura、Alchemy 提供的 RPC（注册个账号就能获取）
3. **获取测试币 ETH（Goerli ETH）用于部署合约和测试交易**

---

# 二、使用 `op-deployer` 搭建一个 L2 网络

> op-deployer 是一个 CLI 工具，可以一键部署一个完整的 OP Stack L2 网络
> 

## 1. 克隆 OP Stack 的部署代码：

```bash
bash
CopyEdit
git clone https://github.com/ethereum-optimism/optimism
cd optimism
```

## 2. 安装依赖：

```bash
bash
CopyEdit
pnpm install
```

## 3. 配置链参数（重点）：

你要创建一个配置文件，比如：

```yaml
yaml
CopyEdit
l2_chain_id: 901
l2_chain_name: "MyL2Chain"
gas_token_symbol: "MYL2"
batch_inbox_address: "0x..."   # 设置 L1 Inbox 地址
# 还有很多默认字段，比如交易排序器地址、挑战期时间、DA 层设置等
```

你也可以参考官方提供的模板，填好以后可以保存为 `my-l2-config.yaml`。

## 4. 执行部署：

```bash
bash
CopyEdit
pnpm exec op-deployer deploy --config my-l2-config.yaml
```

这个部署会完成：

- L1 智能合约部署（包括桥、信标、挑战合约）
- L2 Rollup 节点启动
- Sequencer 和 Proposer 启动（你的 L2 会开始“出块”）
- DA 层配置（可选，可以用默认或集成到 Celestia）

---

# 三、注册到 Superchain Registry（加入超级链）

这个步骤是 **让你的链被 Optimism 官方“承认”是超级链一员**。

## 1. 在 `ethereum-lists/chains` 提交 PR，注册你的链：

这是一个 JSON 文件，填写：

- `chainId`
- `rpc`
- `explorer`
- `nativeCurrency`
- `infoURL`

仓库地址：https://github.com/ethereum-lists/chains

## 2. 克隆 Superchain Registry：

```bash
bash
CopyEdit
git clone https://github.com/ethereum-optimism/superchain-registry
cd superchain-registry

```

## 3. 创建一个你链的配置目录：

比如 `chains/my-l2-chain/chain.json`

## 4. 填写链配置：

你要填写的内容包括：

- 你的链的名字、ID、Logo
- `rollupConfig` 文件（你可以用 `op-deployer` 生成）
- 项目介绍网站
- 是否愿意参与超级链治理

## 5. 运行验证检查工具：

```bash
bash
CopyEdit
pnpm install
pnpm run validate

```

确保你的配置没问题。

## 6. 提交 PR（Pull Request）：

将你刚刚新建的链目录 + 配置文件提交到该仓库，官方团队会审核并合并。

---

# 四、部署你的 L2 上的智能合约

现在你已经部署好了一个 L2，你可以连接钱包（如 MetaMask），将 RPC 设置为你新建的 L2 网络，然后用 Hardhat 或 Foundry 部署智能合约。

---

# 五、桥接资产（ETH）到你的 L2

你可以：

- 使用标准的 `L1StandardBridge` 智能合约将 Goerli ETH 桥到你自己的 L2
- 或者你也可以部署自己的桥合约（如 `ERC20Bridge`）

  ### 2025.04.10
  # 一、什么是 **DeFi（去中心化金融）**？

## 定义：

DeFi 是 “Decentralized Finance” 的缩写，意思是**不通过银行、支付宝这些中心化机构**，就能完成转账、借钱、赚利息、换币等金融操作。

## 包括什么？

- **去中心化交易所（DEX）**：像 Uniswap、Velodrome，可以自己换币，不需要注册账号。
- **借贷协议**：像 Aave、Compound，可以抵押加密资产借出稳定币，或者把钱放进去赚利息。
- **稳定币系统**：像 DAI，不靠银行支持，靠智能合约运作的稳定币。
- **收益聚合器**：像 Yearn、Pendle，把你的币帮你自动找到高利率的地方存，自动“打理你的钱”。
- **保险协议、杠杆协议、期权协议**等等。

## 什么时候用得上？

- 想**换币**，比如你有 ETH 想换成 USDC，可以用 DEX。
- 想**借钱**，可以抵押 ETH 借出 USDT。
- 想**躺赚利息**，可以存币进借贷平台。
- 想**做空某个币**，可以用 DeFi 做杠杆、衍生品。

---

# 二、什么是 **NFT（非同质化代币）**？

## 定义：

NFT 就是一种代表独特资产的代币，不能像 USDT 或 BTC 那样一换一。它可以代表一张图片、一首音乐、一个游戏道具，甚至一张门票。

## 包括什么？

- **艺术品**（例如：头像项目 CryptoPunks、BAYC）
- **游戏资产**（像 Axie Infinity 的角色）
- **音乐 / 视频**
- **虚拟地产**（像 The Sandbox、Decentraland）
- **门票 / 身份凭证**（像 NFT 门票、活动徽章）

## 什么时候用得上？

- 你想买一张数字画、收藏某个系列头像。
- 玩游戏时，你的装备、角色是 NFT。
- 参加活动、会议，会发 NFT 纪念章。
- 想证明你是某社区成员，可以持有该 NFT。

---

# 三、什么是 **综合性 Web3 服务**？

### 定义：

综合性 Web3 服务 = 不是单一功能，而是构建一整套链上体验，包括身份、钱包、数据、交易、社交、游戏、DAO 等，构建出“链上的互联网”。

## 包括什么？

- **钱包服务**：如 MetaMask、Safe。
- **身份系统**：如 ENS（域名）、Lens（社交身份）。
- **数据层服务**：如 The Graph 提供链上数据索引。
- **DAO 系统**：社区投票、治理系统。
- **一站式开发平台**：像 Moralis、Thirdweb，提供 Web3 基础设施。
- **链本身作为平台**：像 Optimism、Mode、Hashkey Chain，就是整个链都服务开发者和用户。

## 什么时候用得上？

- 你想自己**部署智能合约**、做个 DApp，就要用这些服务。
- 你是开发者，想要用户登录，就要用钱包和身份系统。
- 你想参与社区治理或做个 DAO 项目。
- 你想把原本 Web2 网站，**变成 Web3 的模式**。

### 2025.04.11
# 这些服务是怎么和 L2联系起来的？

**这些服务（DeFi、NFT、Web3 服务）都是部署在 L2 网络（如 Superchain 上的各条链）上的智能合约应用**，就像 App 安装在 iOS 或安卓系统上一样。

# 🔧 具体流程：

## **L2 提供基础设施：**

- 区块生产（Sequencer）
- 交易执行
- 数据存储（DA层）
- 与以太坊（L1）做结算、存证

## **DApp 在 L2 上部署智能合约：**

- 以 Solidity 写的智能合约部署到 L2（如 Base, Mode, Zora）
- 服务上线，用户用钱包（如 MetaMask）访问

## **用户操作通过前端 + 钱包：**

- 前端 Web 应用连接 L2 的智能合约
- 钱包签名交易，发往 L2 网络
- L2 网络处理交易，返回结果

## **最终部分结果上传到 L1：**

- 出于安全或价值结算目的（如资产跨链）

# 二、Superchain 上的热门服务（应用分析）

我们来看看 Superchain（Optimism 生态）的几个代表性服务：

---

## 1. **Velodrome（在 Optimism）**

- 类型：DEX（去中心化交易所）+ 投票式流动性分配
- 功能：换币、提供流动性、投票赚治理收益
- 用户群：DeFi 玩家、协议方争夺流动性
- 特点：用 veNFT 模型，投票决定激励分配（流动性战争）

---

## 2. **Base 上的 Friend.tech / Farcaster**

- 类型：社交类 Web3 应用
- 功能：基于钱包身份发帖、打赏、聊天
- 用户群：Crypto 原生用户、内容创作者
- 特点：尝试让 Web3 有 “朋友圈”、“微博” 的感觉

---

## 3. **Zora Network（在 Superchain）**

- 类型：NFT 市场 + 创作平台
- 功能：任何人可以快速铸造、买卖 NFT
- 用户群：数字艺术家、NFT 收藏者、品牌
- 特点：铸造免费、交易低费、完全开放 API

---

## 4. **Mode Network**

- 类型：收益共享链（DeFi 激励式）
- 功能：DApp 用得越多，开发者赚得越多
- 用户群：DeFi 项目方、开发者
- 特点：对接 EigenLayer，激励机制绑定 DApp 表现

---

## 5. **Redstone / Cyber**

- 类型：DApp 友好型 L2，主打原生激励和用户体验
- 功能：想成为“用户第一”的 L2
- 用户群：新项目、参与者早期激励
- 特点：很多打新用户在这里交互、做任务

# Web3 服务对比 Web2 的优势在哪里？作为用户/客户，**为什么我要用 Web3 服务？**

## ✅ 你是普通用户：

- 想拥有 **真正属于你** 的资产（游戏装备、门票、收藏品）
- 想参与新项目获取早期收益（例如做交互、空投）
- 想掌控自己的身份、不被平台封号

## ✅ 你是开发者或团队：

- 快速启动一个金融服务、NFT 市场、DAO 治理平台
- 通过 Web3 模型（治理、Token）实现 **用户共建共赢**
- 把早期用户变成社区力量，实现“自驱动增长”
<!-- Content_END -->
